<section id="forgot-password-Form">
    <div class="container">
        <div class="row">
            <h1 style="font-weight: 500;" *ngIf="!showNewPassword">Forgot Password</h1>
            <h1 style="font-weight: 500;" *ngIf="showNewPassword">New Password</h1>
            <div style="max-width: 351px; margin-top: 20px;">
                <p style="font-size: 14px;">
                    No worriest! Just enter your email and weâ€™ll send you a reset password link.
                </p>
            </div>
        </div>
        <div class="row" *ngIf="!showNewPassword">
            <form [formGroup]="ForgotPasswordForm" class="form-container" autocomplete="off" style="width: 100%;">
                <!-- ðŸ”’ Chrome Autofill Decoy Inputs -->
                <input type="text" name="fake-username" style="position: absolute; opacity: 0; height: 0; width: 0"
                    autocomplete="off" tabindex="-1" />

                <!-- âœ… Email Input -->
                <div class="input-wrapper" style="margin-bottom:8px">
                    <input #emailInput type="text" formControlName="email" name="user_email_custom" autocomplete="off"
                        required [attr.readonly]="true" (focus)="removeReadonly($event); emailFocused = true"
                        (blur)="emailFocused = false" />
                    <label [class.floating]="emailFocused || ForgotPasswordForm.get('email')?.value">
                        Email address
                    </label>
                </div>
            </form>
        </div>
        <!-- ðŸ‘‡ New Password Form -->
<div class="row" *ngIf="showNewPassword">
  <form [formGroup]="newPasswordForm" class="form-container" autocomplete="off" style="width: 100%;">
    <!-- New Password -->
    <div class="input-wrapper" style="margin-bottom:8px">
      <input type="password"
             formControlName="newPassword"
             name="new_password"
             autocomplete="off"
             required
             (focus)="newPasswordFocused = true"
             (blur)="newPasswordFocused = false" />
      <label [class.floating]="newPasswordFocused || newPasswordForm.get('newPassword')?.value">
        Create new password
      </label>
    </div>

    <!-- Confirm Password -->
    <div class="input-wrapper" style="margin-bottom:8px">
      <input type="password"
             formControlName="confirmPassword"
             name="confirm_password"
             autocomplete="off"
             required
             (focus)="confirmPasswordFocused = true"
             (blur)="confirmPasswordFocused = false" />
      <label [class.floating]="confirmPasswordFocused || newPasswordForm.get('confirmPassword')?.value">
        Confirm new password
      </label>
    </div>
  </form>
</div>


         <div class="row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 60px; margin-top: 20px;" *ngIf="showNewPassword">
            <div>
                <button id="send-recovery-email-button" class="btn me-3" style="min-width: 100%;"
                    (click)="onSendRecoveryEmail()">
                    Change Password
                </button>
            </div>
        </div>

        <div class="row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 60px; margin-top: 20px;" *ngIf="!showNewPassword">
            <div>
                <button id="send-recovery-email-button" class="btn me-3" style="min-width: 100%;"
                    (click)="onSendRecoveryEmail()">
                    Send Recovery Email
                </button>
            </div>
        </div>
        <div class="row" *ngIf="!showNewPassword">
            <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 60px;">
                <p>Just remember? <span><a class="page-link" (click)="onSignInClick()">Sign-in</a></span></p>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div style="max-width: 437px; margin-bottom: -25px;">
                    <p style="font-size: 12px;">Protected by reCAPTCHA and subject to the <span><a
                                class="page-link">Cuboid Provacy Policy</a></span> and <span><a class="page-link">Terms
                                of Services</a></span>.</p>
                </div>
            </div>
        </div>

    </div>
</section>